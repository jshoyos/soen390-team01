@using soen390_team01.Data
@model List<soen390_team01.Data.Entities.Production>

@{
    var anyStopped = Model.Any(p => p.State == "stopped");
}

<div class="container">
    <div class="row pt-4 pb-4 h-100 text-center">
        @{
            if (anyStopped)
            {
                <div class="col-1">
                </div>
            }
        }
        <div class="col"><u>ID</u></div>
        <div class="col"><u>Status</u></div>
        <div class="col"><u>Quantity</u></div>
        <div class="col"><u>Added</u></div>
        <div class="col"><u>Updated</u></div>
    </div>
    @foreach (var production in Model)
    {
        <div class="row pt-4 pb-4 h-100 text-center">
            @if (anyStopped)
            {
                <div class="col-1" style="text-align: center;">
                    @if (production.State == "stopped")
                    {
                        <button class="btn btn-outline-secondary" onclick="location.href='@Url.Action("FixProduction", "Assembly", new { productionId = production.ProductionId })'">Fix</button>
                    }
                </div>

            }
            <div class="col">@production.BikeId</div>
            <div class="col">@production.State</div>
            <div class="col">@production.Quantity</div>
            <div class="col">@production.Added.DateTimeLocalString()</div>
            <div class="col">@production.Modified.DateTimeLocalString()</div>
        </div>
    }
</div>